<main class="fd-page">
  <div class="fd-page__content ">
    <div class="row top-xs">
      <div class="col-xs-12, col-sm-10 col-md-9 col-lg-9">
        <ng-container *ngTemplateOutlet="portlets">
        </ng-container>
      </div>
      <div class="zToc col-xs-4 col-sm-2 col-md-3 col-lg-3">
        <ng-container *ngTemplateOutlet="actions">
        </ng-container>
      </div>

    </div>
  </div>
</main>


<ng-template #portlets>
  <div class="row zTop">
    <ng-container
      *ngTemplateOutlet="portlet;context: {$implicit:'col-xs-12', layouts: topLayouts() }">
    </ng-container>
  </div>
  <div class="row zMain">

    <ng-container
      *ngTemplateOutlet="portlet;context: { $implicit:'col-xs-12 col-sm-6 col-md-6 col-lg-6',
      layouts: mainLayouts()}">
    </ng-container>

  </div>
  <div class="row zBottom">
    <ng-container
      *ngTemplateOutlet="portlet;context: {$implicit:'col-xs-12' }">
    </ng-container>
  </div>
</ng-template>

<ng-template #portlet let-colClass let-layouts="layouts">
  <m-context [ngClass]="colClass"
            *ngFor="let layout of layouts" [layout]="layout.name"
             (afterContextSet)="afterContextSet($event)"
             (beforeContextSet)="beforeContextSet($event)">

    <span class="portlet-label">{{label()}}</span>

    <div class="portlet">
      <m-include-component></m-include-component>
    </div>
  </m-context>
</ng-template>

<ng-template #actions>
  <div class="box">
    <fdp-select placeholder="Quick Links" [list]="['Update Project', 'Assign Task']">
    </fdp-select>
  </div>

  <m-context #zTopm [ngClass]="'box'"
             *ngFor="let layout of zTocLayouts()" [layout]="layout.name"
             (afterContextSet)="afterContextSet($event)"
             (beforeContextSet)="beforeContextSet($event)">
    <m-include-component></m-include-component>
  </m-context>

</ng-template>
